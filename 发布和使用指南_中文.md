# Claude Code 插件发布和使用完整指南

## 📚 概述

本插件 `hbsun2113-productivity-suite` 已经打包完成，包含完整的发布和使用文档。

## 🎯 两类用户指南

### 👥 用户（安装使用者）

**最快安装方式：**

```bash
# 1. 添加插件市场
/plugin marketplace add hbsun2113/claude-code-plugins

# 2. 安装插件
/plugin install hbsun2113-productivity-suite

# 3. 立即使用
/explore .
```

**详细文档：**
- [QUICK_START.md](QUICK_START.md) - 2分钟快速开始
- [USER_GUIDE.md](USER_GUIDE.md) - 完整使用指南（英文）
- [README_CN.md](README_CN.md) - 功能介绍（中文）
- [INSTALL.md](INSTALL.md) - 安装问题排查

### 🚀 发布者（你 - 要分享插件）

**发布步骤总览：**

1. **创建插件仓库** (GitHub)
2. **创建市场仓库**（可选，推荐）
3. **测试安装**
4. **分享给他人**

**详细文档：**
- [PUBLISHER_GUIDE.md](PUBLISHER_GUIDE.md) - 完整发布指南（英文）
- 下面有中文简化版说明

---

## 🔧 发布者操作指南（中文详解）

### 第一步：创建插件 GitHub 仓库

1. **在 GitHub 上创建新仓库**
   - 仓库名称：`claude-code-productivity-suite`
   - 描述：A comprehensive productivity plugin for Claude Code
   - 设为**公开**（必须公开才能被安装）
   - 不要初始化 README（我们已经有了）

2. **推送插件代码到 GitHub**

```bash
# 进入插件目录
cd ~/.claude/plugins/hbsun2113-productivity-suite

# 初始化 git 仓库
git init

# 添加所有文件
git add .

# 创建首次提交
git commit -m "Initial release: v1.0.0

- 5个强大的斜杠命令
- 3个专业AI代理
- 智能Markdown格式化器
- 增强状态栏
- 完整的批量编辑工具"

# 添加远程仓库（替换 hbsun2113 为你的 GitHub 用户名）
git remote add origin https://github.com/hbsun2113/claude-code-productivity-suite.git

# 推送到 GitHub
git branch -M main
git push -u origin main
```

### 第二步：创建市场仓库（推荐）

为了更好地管理插件和未来可能的其他插件：

1. **创建另一个 GitHub 仓库**
   - 仓库名称：`claude-code-plugins`
   - 描述：Plugin marketplace for Claude Code
   - 设为**公开**

2. **设置市场**

```bash
# 创建市场目录
mkdir -p ~/claude-code-plugins/.claude-plugin

# 创建市场配置文件
cat > ~/claude-code-plugins/.claude-plugin/marketplace.json << 'EOF'
{
  "name": "hbsun2113-plugins",
  "owner": {
    "name": "hbsun2113",
    "email": "[email protected]"
  },
  "plugins": [
    {
      "name": "hbsun2113-productivity-suite",
      "source": {
        "source": "github",
        "repo": "hbsun2113/claude-code-productivity-suite"
      },
      "description": "完整的生产力插件，包含斜杠命令、代理、hooks和批量编辑工具",
      "version": "1.0.0",
      "author": {
        "name": "hbsun2113"
      },
      "license": "MIT"
    }
  ]
}
EOF

# 创建市场 README
cat > ~/claude-code-plugins/README.md << 'EOF'
# hbsun2113 的 Claude Code 插件市场

## 安装方法

添加此市场：
```bash
/plugin marketplace add hbsun2113/claude-code-plugins
```

安装插件：
```bash
/plugin install hbsun2113-productivity-suite
```

## 可用插件

### hbsun2113-productivity-suite
完整的生产力工具套件，包含命令、代理、格式化器等。
EOF

# 推送到 GitHub
cd ~/claude-code-plugins
git init
git add .
git commit -m "添加 hbsun2113-productivity-suite 到市场"
git remote add origin https://github.com/hbsun2113/claude-code-plugins.git
git branch -M main
git push -u origin main
```text

### 第三步：测试你的发布

```bash
# 备份本地插件（可选）
mv ~/.claude/plugins/hbsun2113-productivity-suite ~/.claude/plugins/hbsun2113-productivity-suite.backup

# 添加你的市场
/plugin marketplace add hbsun2113/claude-code-plugins

# 从市场安装
/plugin install hbsun2113-productivity-suite

# 测试命令
/explore .
```

### 第四步：分享给其他人

告诉其他人如何安装：

```bash
/plugin marketplace add hbsun2113/claude-code-plugins
/plugin install hbsun2113-productivity-suite
```

---

## 👤 用户如何安装（完整流程）

### 前置要求

```bash
# 检查依赖
python3 --version  # 需要 >= 3.6
jq --version       # 需要 >= 1.5
```

如果缺少依赖：

**Ubuntu/Debian:**
```bash
sudo apt-get install python3 jq
```

**macOS:**
```bash
brew install python3 jq
```

### 安装插件

**方式一：通过市场（推荐）**

```bash
# 1. 添加市场
/plugin marketplace add hbsun2113/claude-code-plugins

# 2. 安装插件
/plugin install hbsun2113-productivity-suite

# 3. 验证安装
/plugin list
```

**方式二：直接从插件仓库**

```bash
/plugin marketplace add hbsun2113/claude-code-productivity-suite
/plugin install hbsun2113-productivity-suite
```

**方式三：手动安装**

```bash
cd ~/.claude/plugins
git clone https://github.com/hbsun2113/claude-code-productivity-suite.git hbsun2113-productivity-suite
# 重启 Claude Code
```

### 验证安装

```bash
# 测试斜杠命令
/explore .

# 测试代理（询问 Claude）
"请帮我审查代码质量"  # 会触发 code-reviewer

"如何使用 React Query？"  # 会触发 library-usage-researcher（中文输出）
```

---

## 📋 插件包含内容

### ✨ 5个斜杠命令

| 命令 | 功能 | 示例 |
|------|------|------|
| `/explore` | 深度代码分析 | `/explore src/` |
| `/gitCommit` | 创建git提交 | `/gitCommit` |
| `/requirementDoc` | 需求文档化 | `/requirementDoc doc.md` |
| `/rev-engine` | 多轮规划 | `/rev-engine --interactive` |
| `/todoDoc` | 生成待办列表 | `/todoDoc req.md todo.md` |

### 🤖 3个AI代理

1. **code-reviewer** - 代码质量审查
2. **library-usage-researcher** - 库使用研究（中文输出）
3. **memory-network-builder** - 知识网络构建

### 🔧 自动化功能

- **Markdown格式化器** - 自动格式化代码块
- **增强状态栏** - 显示目录、分支、模型
- **批量编辑工具** - 高效多文件操作

---

## 🔄 更新插件

### 发布者更新

```bash
# 1. 修改代码后更新版本
# 编辑 .claude-plugin/plugin.json，改为 "version": "1.1.0"

# 2. 提交并推送
git add .
git commit -m "Release v1.1.0: 新功能"
git push

# 3. 在 GitHub 创建 Release
# 标签：v1.1.0

# 4. 更新市场配置（如果有单独的市场仓库）
# 编辑 marketplace.json，更新版本号
```

### 用户更新

```bash
# 更新单个插件
/plugin update hbsun2113-productivity-suite

# 更新所有插件
/plugin update --all
```

---

## 🆘 常见问题

### 发布者问题

**Q: 仓库必须是公开的吗？**
A: 是的，必须公开，否则其他人无法安装。

**Q: 如何让用户发现我的插件？**
A:
- 在 GitHub README 中写清楚安装方法
- 分享到社区（Reddit、Discord、Twitter）
- 添加详细的文档和示例

**Q: 如何处理版本更新？**
A: 使用语义化版本（MAJOR.MINOR.PATCH），在 GitHub 创建 Release。

### 用户问题

**Q: 插件找不到？**
A:
1. 确保已添加市场：`/plugin marketplace add ...`
2. 检查仓库是否公开
3. 尝试刷新：`/plugin marketplace refresh`

**Q: Hook 不工作？**
A:
```bash
# 确保脚本可执行
chmod +x ~/.claude/plugins/hbsun2113-productivity-suite/.claude/hooks/markdown_formatter.py
```

**Q: 状态栏不显示？**
A: 检查 jq 是否安装：`jq --version`

---

## 📂 文件结构

```text
hbsun2113-productivity-suite/
├── .claude-plugin/
│   ├── plugin.json           # 插件元数据（符合规范）
│   └── marketplace.json      # 市场配置（符合规范）
├── .claude/
│   ├── commands/             # 5个斜杠命令
│   ├── agents/              # 3个AI代理
│   ├── hooks/               # Hooks配置和脚本
│   └── scripts/             # 状态栏脚本
├── batch_edit/              # 批量编辑工具
├── LICENSE                  # MIT许可证
├── README.md                # 英文介绍
├── README_CN.md             # 中文介绍
├── QUICK_START.md           # 快速开始
├── USER_GUIDE.md            # 用户指南（英文）
├── PUBLISHER_GUIDE.md       # 发布者指南（英文）
└── INSTALL.md               # 安装指南
```

---

## 🎓 学习资源

- **官方文档**: https://docs.claude.com/en/docs/claude-code/plugins
- **插件示例**: https://github.com/anthropics/claude-code
- **市场文档**: https://docs.claude.com/en/docs/claude-code/plugin-marketplaces

---

## ✅ 检查清单

### 发布前

- [ ] 代码已测试
- [ ] README 已完善
- [ ] 版本号正确
- [ ] LICENSE 文件存在
- [ ] .claude-plugin/plugin.json 格式正确
- [ ] 所有脚本有执行权限

### 发布后

- [ ] GitHub 仓库已创建并设为公开
- [ ] 代码已推送
- [ ] 已创建 Release（可选）
- [ ] 市场已配置（如果使用）
- [ ] 已自测安装流程

---

祝你的插件发布顺利！🎉
